<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Implementation of the linear memory suitable for concurrent access"><title>LinearMemory in wasm::execution::linear_memory - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="wasm" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15) (built from a source tarball)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../wasm/index.html">wasm</a><span class="version">0.1.0</span></h2></div><h2 class="location"><a href="#">Linear<wbr>Memory</a></h2><div class="sidebar-elems"><section><h3><a href="#fields">Fields</a></h3><ul class="block structfield"><li><a href="#structfield.inner_data">inner_data</a></li></ul><h3><a href="#implementations">Associated Constants</a></h3><ul class="block associatedconstant"><li><a href="#associatedconstant.PAGE_SIZE">PAGE_SIZE</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.copy">copy</a></li><li><a href="#method.fill">fill</a></li><li><a href="#method.grow">grow</a></li><li><a href="#method.init">init</a></li><li><a href="#method.len">len</a></li><li><a href="#method.load">load</a></li><li><a href="#method.new">new</a></li><li><a href="#method.new_with_initial_pages">new_with_initial_pages</a></li><li><a href="#method.pages">pages</a></li><li><a href="#method.store">store</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-Debug-for-LinearMemory%3CPAGE_SIZE%3E">Debug</a></li><li><a href="#impl-Default-for-LinearMemory%3CPAGE_SIZE%3E">Default</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-Freeze-for-LinearMemory%3CPAGE_SIZE%3E">!Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-LinearMemory%3CPAGE_SIZE%3E">!RefUnwindSafe</a></li><li><a href="#impl-Sync-for-LinearMemory%3CPAGE_SIZE%3E">!Sync</a></li><li><a href="#impl-Send-for-LinearMemory%3CPAGE_SIZE%3E">Send</a></li><li><a href="#impl-Unpin-for-LinearMemory%3CPAGE_SIZE%3E">Unpin</a></li><li><a href="#impl-UnwindSafe-for-LinearMemory%3CPAGE_SIZE%3E">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T">Borrow&#60;T&#62;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T">BorrowMut&#60;T&#62;</a></li><li><a href="#impl-From%3CT%3E-for-T">From&#60;T&#62;</a></li><li><a href="#impl-Into%3CU%3E-for-T">Into&#60;U&#62;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T">TryFrom&#60;U&#62;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T">TryInto&#60;U&#62;</a></li></ul></section><h2><a href="index.html">In wasm::<wbr>execution::<wbr>linear_<wbr>memory</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Struct <a href="../../index.html">wasm</a>::<wbr><a href="../index.html">execution</a>::<wbr><a href="index.html">linear_memory</a>::<wbr><a class="struct" href="#">LinearMemory</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../src/wasm/execution/linear_memory.rs.html#68-70">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub struct LinearMemory&lt;const PAGE_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a> = { crate::Limits::MEM_PAGE_SIZE as usize }&gt; {
    inner_data: <a class="struct" href="../../rw_spinlock/struct.RwSpinLock.html" title="struct wasm::rw_spinlock::RwSpinLock">RwSpinLock</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.82.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.82.0/core/cell/struct.UnsafeCell.html" title="struct core::cell::UnsafeCell">UnsafeCell</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.u8.html">u8</a>&gt;&gt;&gt;,
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Implementation of the linear memory suitable for concurrent access</p>
<p>Implements the base for the instructions described in
<a href="https://webassembly.github.io/spec/core/exec/instructions.html#memory-instructions">https://webassembly.github.io/spec/core/exec/instructions.html#memory-instructions</a>.</p>
<p>This linear memory implementation internally relies on a <code>Vec&lt;UnsafeCell&lt;u8&gt;&gt;</code>. Thus, the atomic
unit of information for it is a byte (<code>u8</code>). All access to the linear memory internally occurs
through pointers, avoiding the creation of shared and mut refs to the internal data completely.
This avoids undefined behavior, except for the race-condition inherent to concurrent writes.
Because of this, the <a href="struct.LinearMemory.html#method.store" title="method wasm::execution::linear_memory::LinearMemory::store"><code>LinearMemory::store</code></a> function does not require <code>&amp;mut self</code> – <code>&amp;self</code>
suffices.</p>
<h2 id="notes-on-overflowing"><a class="doc-anchor" href="#notes-on-overflowing">§</a>Notes on overflowing</h2>
<p>All operations that rely on accessing <code>n</code> bytes starting at <code>index</code> in the linear memory have to
perform bounds checking. Thus they always have to ensure that <code>n + index &lt; linear_memory.len()</code>
holds true (e.g. <code>n + index - 1</code> must be a valid index into <code>linear_memory</code>). However,
writing that check as is bears the danger of an overflow, assuming that <code>n</code>, <code>index</code> and
<code>linear_memory.len()</code> are the same given integer type, <code>n + index</code> can overflow, resulting in
the check passing despite the access being out of bounds!</p>
<p>To avoid this, the bounds checks are carefully ordered to avoid any overflows:</p>
<ul>
<li>First we check, that <code>n &lt;= linear_memory.len()</code> holds true, ensuring that the amount of bytes
to be accessed is indeed smaller than or equal to the linear memory’s size. If this does not
hold true, continuation of the operation will yield out of bounds access in any case.</li>
<li>Then, as a second check, we verify that <code>index &lt;= linear_memory.len() - n</code>. This way we
avoid the overflow, as there is no addition. The subtraction in the left hand can not
underflow, due to the previous check (which asserts that <code>n</code> is smaller than or equal to
<code>linear_memory.len()</code>).</li>
</ul>
<p>Combined in the given order, these two checks enable bounds checking without risking any
overflow or underflow, provided that <code>n</code>, <code>index</code> and <code>linear_memory.len()</code> are of the same
integer type.</p>
<h2 id="notes-on-locking"><a class="doc-anchor" href="#notes-on-locking">§</a>Notes on locking</h2>
<p>The internal data vector of the <a href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory"><code>LinearMemory</code></a> is wrapped in a <a href="../../rw_spinlock/struct.RwSpinLock.html" title="struct wasm::rw_spinlock::RwSpinLock"><code>RwSpinLock</code></a>. Despite the
name, writes to the linear memory do not require an acquisition of a write lock. Writes are
implemented through a shared ref to the internal vector, with an <code>UnsafeCell</code> to achieve
interior mutability.</p>
<p>However, linear memory can grow. As the linear memory is implemented via a <a href="https://doc.rust-lang.org/1.82.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec"><code>Vec</code></a>, a grow can
result in the vector’s internal data buffer to be copied over to a bigger, fresh allocation.
The old buffer is then freed. Combined with concurrent mutable access, this can cause
use-after-free. To avoid this, a grow operation of the linear memory acquires a write lock,
blocking all read/write to the linear memory inbetween.</p>
<h2 id="unsafe-note"><a class="doc-anchor" href="#unsafe-note">§</a>Unsafe Note</h2>
<p>Raw pointer access it required, because concurent mutation of the linear memory might happen
(consider the threading proposal for WASM, where mutliple WASM threads access the same linear
memory at the same time). The inherent race condition results in UB w/r/t the state of the <code>u8</code>s
in the inner data. However, this is tolerable, e.g. avoiding race conditions on the state of the
linear memory can not be the task of the interpreter, but has to be fulfilled by the interpreted
bytecode itself.</p>
</div></details><h2 id="fields" class="fields section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.inner_data" class="structfield section-header"><a href="#structfield.inner_data" class="anchor field">§</a><code>inner_data: <a class="struct" href="../../rw_spinlock/struct.RwSpinLock.html" title="struct wasm::rw_spinlock::RwSpinLock">RwSpinLock</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.82.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.82.0/core/cell/struct.UnsafeCell.html" title="struct core::cell::UnsafeCell">UnsafeCell</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.u8.html">u8</a>&gt;&gt;&gt;</code></span><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-LinearMemory%3CPAGE_SIZE%3E" class="impl"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#75-351">source</a><a href="#impl-LinearMemory%3CPAGE_SIZE%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const PAGE_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>&gt; <a class="struct" href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory">LinearMemory</a>&lt;PAGE_SIZE&gt;</h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedconstant.PAGE_SIZE" class="associatedconstant"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#80">source</a><h4 class="code-header">const <a href="#associatedconstant.PAGE_SIZE" class="constant">PAGE_SIZE</a>: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a> = PAGE_SIZE</h4></section></summary><div class="docblock"><p>Size of a page in the linear memory, measured in bytes</p>
<p>The WASM specification demands a page size of 64 KiB, that is <code>65536</code> bytes:
<a href="https://webassembly.github.io/spec/core/exec/runtime.html?highlight=page#memory-instances">https://webassembly.github.io/spec/core/exec/runtime.html?highlight=page#memory-instances</a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#83-87">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>() -&gt; Self</h4></section></summary><div class="docblock"><p>Create a new, empty <a href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory"><code>LinearMemory</code></a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.new_with_initial_pages" class="method"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#90-98">source</a><h4 class="code-header">pub fn <a href="#method.new_with_initial_pages" class="fn">new_with_initial_pages</a>(pages: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.u16.html">u16</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Create a new, empty <a href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory"><code>LinearMemory</code></a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.grow" class="method"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#101-106">source</a><h4 class="code-header">pub fn <a href="#method.grow" class="fn">grow</a>(&amp;self, pages_to_add: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.u16.html">u16</a>)</h4></section></summary><div class="docblock"><p>Grow the <a href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory"><code>LinearMemory</code></a> by a number of pages</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.pages" class="method"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#109-111">source</a><h4 class="code-header">pub fn <a href="#method.pages" class="fn">pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.u16.html">u16</a></h4></section></summary><div class="docblock"><p>Get the number of pages currently allocated to this <a href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory"><code>LinearMemory</code></a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.len" class="method"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#115-117">source</a><h4 class="code-header">pub fn <a href="#method.len" class="fn">len</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Get the length in bytes currently allocated to this <a href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory"><code>LinearMemory</code></a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.store" class="method"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#120-166">source</a><h4 class="code-header">pub fn <a href="#method.store" class="fn">store</a>&lt;const N: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>, T: <a class="trait" href="../../core/little_endian/trait.LittleEndianBytes.html" title="trait wasm::core::little_endian::LittleEndianBytes">LittleEndianBytes</a>&lt;N&gt;&gt;(
    &amp;self,
    index: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>,
    value: T,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.82.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.unit.html">()</a>, <a class="enum" href="../../core/error/enum.RuntimeError.html" title="enum wasm::core::error::RuntimeError">RuntimeError</a>&gt;</h4></section></summary><div class="docblock"><p>At a given index, store a datum in the <a href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory"><code>LinearMemory</code></a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.load" class="method"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#169-212">source</a><h4 class="code-header">pub fn <a href="#method.load" class="fn">load</a>&lt;const N: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>, T: <a class="trait" href="../../core/little_endian/trait.LittleEndianBytes.html" title="trait wasm::core::little_endian::LittleEndianBytes">LittleEndianBytes</a>&lt;N&gt;&gt;(
    &amp;self,
    index: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.82.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, <a class="enum" href="../../core/error/enum.RuntimeError.html" title="enum wasm::core::error::RuntimeError">RuntimeError</a>&gt;</h4></section></summary><div class="docblock"><p>From a given index, load a datum in the <a href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory"><code>LinearMemory</code></a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.fill" class="method"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#218-241">source</a><h4 class="code-header">pub fn <a href="#method.fill" class="fn">fill</a>(
    &amp;self,
    index: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>,
    data_byte: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.u8.html">u8</a>,
    count: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.82.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.unit.html">()</a>, <a class="enum" href="../../core/error/enum.RuntimeError.html" title="enum wasm::core::error::RuntimeError">RuntimeError</a>&gt;</h4></section></summary><div class="docblock"><p>Implementation of the behavior described in
<a href="https://webassembly.github.io/spec/core/exec/instructions.html#xref-syntax-instructions-syntax-instr-memory-mathsf-memory-fill">https://webassembly.github.io/spec/core/exec/instructions.html#xref-syntax-instructions-syntax-instr-memory-mathsf-memory-fill</a>.
Note, that the WASM spec defines the behavior by recursion, while our implementation uses
the memset like <a href="https://doc.rust-lang.org/1.82.0/core/intrinsics/fn.write_bytes.html" title="fn core::intrinsics::write_bytes"><code>core::ptr::write_bytes</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.copy" class="method"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#249-301">source</a><h4 class="code-header">pub fn <a href="#method.copy" class="fn">copy</a>(
    &amp;self,
    destination_index: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>,
    source_mem: &amp;Self,
    source_index: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>,
    count: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.82.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.unit.html">()</a>, <a class="enum" href="../../core/error/enum.RuntimeError.html" title="enum wasm::core::error::RuntimeError">RuntimeError</a>&gt;</h4></section></summary><div class="docblock"><p>Copy <code>count</code> bytes from one region in the linear memory to another region in the same or a
different linear memory</p>
<ul>
<li>Both regions may overlap</li>
<li>Copies the <code>count</code> bytes starting from <code>source_index</code>, overwriting the <code>count</code> bytes
starting from <code>destination_index</code></li>
</ul>
</div></details><section id="method.init" class="method"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#304-350">source</a><h4 class="code-header">pub fn <a href="#method.init" class="fn">init</a>(
    &amp;self,
    destination_index: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>,
    source_data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.u8.html">u8</a>],
    source_index: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>,
    count: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.82.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.unit.html">()</a>, <a class="enum" href="../../core/error/enum.RuntimeError.html" title="enum wasm::core::error::RuntimeError">RuntimeError</a>&gt;</h4></section></div></details></div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-LinearMemory%3CPAGE_SIZE%3E" class="impl"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#353-373">source</a><a href="#impl-Debug-for-LinearMemory%3CPAGE_SIZE%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const PAGE_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>&gt; <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory">LinearMemory</a>&lt;PAGE_SIZE&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#354-372">source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.82.0/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.82.0/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/1.82.0/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/1.82.0/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Default-for-LinearMemory%3CPAGE_SIZE%3E" class="impl"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#375-379">source</a><a href="#impl-Default-for-LinearMemory%3CPAGE_SIZE%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const PAGE_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>&gt; <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory">LinearMemory</a>&lt;PAGE_SIZE&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.default" class="method trait-impl"><a class="src rightside" href="../../../src/wasm/execution/linear_memory.rs.html#376-378">source</a><a href="#method.default" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.82.0/core/default/trait.Default.html#tymethod.default" class="fn">default</a>() -&gt; Self</h4></section></summary><div class='docblock'>Returns the “default value” for a type. <a href="https://doc.rust-lang.org/1.82.0/core/default/trait.Default.html#tymethod.default">Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-LinearMemory%3CPAGE_SIZE%3E" class="impl"><a href="#impl-Freeze-for-LinearMemory%3CPAGE_SIZE%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const PAGE_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a> = { crate::Limits::MEM_PAGE_SIZE as usize }&gt; !<a class="trait" href="https://doc.rust-lang.org/1.82.0/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a> for <a class="struct" href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory">LinearMemory</a>&lt;PAGE_SIZE&gt;</h3></section><section id="impl-RefUnwindSafe-for-LinearMemory%3CPAGE_SIZE%3E" class="impl"><a href="#impl-RefUnwindSafe-for-LinearMemory%3CPAGE_SIZE%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const PAGE_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a> = { crate::Limits::MEM_PAGE_SIZE as usize }&gt; !<a class="trait" href="https://doc.rust-lang.org/1.82.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory">LinearMemory</a>&lt;PAGE_SIZE&gt;</h3></section><section id="impl-Send-for-LinearMemory%3CPAGE_SIZE%3E" class="impl"><a href="#impl-Send-for-LinearMemory%3CPAGE_SIZE%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const PAGE_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>&gt; <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory">LinearMemory</a>&lt;PAGE_SIZE&gt;</h3></section><section id="impl-Sync-for-LinearMemory%3CPAGE_SIZE%3E" class="impl"><a href="#impl-Sync-for-LinearMemory%3CPAGE_SIZE%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const PAGE_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a> = { crate::Limits::MEM_PAGE_SIZE as usize }&gt; !<a class="trait" href="https://doc.rust-lang.org/1.82.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory">LinearMemory</a>&lt;PAGE_SIZE&gt;</h3></section><section id="impl-Unpin-for-LinearMemory%3CPAGE_SIZE%3E" class="impl"><a href="#impl-Unpin-for-LinearMemory%3CPAGE_SIZE%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const PAGE_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>&gt; <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory">LinearMemory</a>&lt;PAGE_SIZE&gt;</h3></section><section id="impl-UnwindSafe-for-LinearMemory%3CPAGE_SIZE%3E" class="impl"><a href="#impl-UnwindSafe-for-LinearMemory%3CPAGE_SIZE%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const PAGE_SIZE: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.usize.html">usize</a>&gt; <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.LinearMemory.html" title="struct wasm::execution::linear_memory::LinearMemory">LinearMemory</a>&lt;PAGE_SIZE&gt;</h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/any.rs.html#138">source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.82.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/any.rs.html#139">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.82.0/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.82.0/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.82.0/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/borrow.rs.html#209">source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.82.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/borrow.rs.html#211">source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.82.0/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.82.0/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/borrow.rs.html#217">source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.82.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/borrow.rs.html#218">source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.82.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.82.0/core/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.82.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/convert/mod.rs.html#765">source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/convert/mod.rs.html#768">source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.82.0/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/convert/mod.rs.html#748-750">source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/convert/mod.rs.html#758">source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.82.0/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.82.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/convert/mod.rs.html#805-807">source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/convert/mod.rs.html#809">source</a><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.82.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/convert/mod.rs.html#812">source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.82.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/convert/mod.rs.html#790-792">source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/convert/mod.rs.html#794">source</a><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.82.0/src/core/convert/mod.rs.html#797">source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.82.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.82.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>